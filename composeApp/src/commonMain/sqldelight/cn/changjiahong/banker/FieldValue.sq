CREATE TABLE FieldValue (
 fieldValueId           INTEGER  NOT NULL ,
 uid          INTEGER  NOT NULL REFERENCES  User(id),
 fieldId      INTEGER  NOT NULL REFERENCES FieldConfig(fieldId),
 fieldValue   TEXT     NOT NULL ,
 created      INTEGER NOT NULL DEFAULT (strftime('%s', 'now')),
 PRIMARY KEY (uid,fieldId)
);

selectFieldsByUidAndBid:
SELECT fc.fieldId ,fv.fieldValueId ,fv.uid ,fc.bId,fc.fieldName ,
fv.fieldValue ,fc.fieldType ,fc.alias ,fc.validationRule ,
fc.forced,CASE WHEN fc.bId = -1 THEN 1 ELSE 0 END AS global
FROM FieldValue fv
LEFT JOIN FieldConfig fc ON fc.fieldId = fv.fieldId
WHERE (fc.bId = ? OR fc.bId =-1) AND fv.uid = ?;

selectTplFieldVals:
SELECT tf.id tFieldId,tf.formFieldName,
CASE WHEN rf.isFixed = 0 THEN  fv.fieldValue ELSE rf.fixedValue END AS fieldValue ,tf.formFieldType
FROM RelFieldTplField rf
LEFT JOIN TplField tf ON tf.id = rf.tFieldId
LEFT JOIN FieldValue fv ON rf.fieldId = fv.fieldId
LEFT JOIN FieldConfig fc ON fc.fieldId  = rf.fieldId
WHERE rf.bId = ? AND tf.templateId = ? AND (fv.uid =? OR rf.isFixed =1);


insert:
INSERT INTO FieldValue(fieldValueId,uid,fieldId,fieldValue)
VALUES (?,?,?,?);

update:
UPDATE FieldValue
SET fieldValue = ?
WHERE fieldValueId = ?;